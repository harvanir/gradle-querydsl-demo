task installGitHooks(type: Copy) {
    println "installGitHooks..."
    from new File(rootProject.rootDir, 'pre-commit')
    into { new File(rootProject.rootDir, '.git/hooks') }
}

task gitExecutableHooks << {
    println "gitExecutableHooks..."
    Runtime.getRuntime().exec("chmod 755 .git/hooks/pre-commit");
}

task verifyFormat << {
    verifyGoogleJavaFormat.enabled = true
}

verifyFormat {
    println "verifyFormat..."
}

verifyGoogleJavaFormat.enabled = false

build.dependsOn(gitExecutableHooks)
gitExecutableHooks.dependsOn(installGitHooks)